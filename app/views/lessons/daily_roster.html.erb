<% title "Daily Roster" %>

<div id="middle" class="container lesson-index-mobile">
  <div class="white">

<div class="admin-viewable">
  <div class="col-md-12">
    <ul>
      <li>Lessons Today: <%= @todays_lessons.count %></li>
      <li>Lessons Tomorrow: <%= @tomorrows_lessons.count %></li>
    </ul>
    <div class="inline-block">
      <a href="#hideLessons" class="btn btn-success" id="toggle-today-lessons">Show Today's Lessons </a>
      <a href="#hideLessons" class="btn btn-warning" id="toggle-tomorrow-lessons">Show Tomorrow's Lessons</a>
      <a href="/future-daily-roster?date=<%=Date.tomorrow.to_s%>" class="btn btn-success" id="">View Future Dates</a>
    </div>
  </div>
</div>

<!-- SECTION 0 - AVAILABLE LESSON REQUESTS FOR INSTRUCTORS -->
<div id="today-lessons" class="">
<h1>Today's Lessons</h1>

<table class="instructors-table">

  <%= render partial: 'daily_roster_table_headers' %>

  <tbody>

    <!-- Early bird slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Early Bird Private Ski </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Early-bird' && lesson.product.product_type == 'private_lesson' && lesson.activity == 'Ski' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>
    <tr>
      <td colspan="12" class="daily-roster-section-break">Early Bird Private SB </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Early-bird' && lesson.product.product_type == 'private_lesson' && lesson.activity == 'Snowboard' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>

    <!-- Morning HD slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Morning Half-Day Ski Privates </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Morning' && lesson.product.product_type == 'private_lesson' && lesson.length == '3.00'  && lesson.activity == 'Ski'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>
      <td colspan="12" class="daily-roster-section-break">Morning Half-Day SB Privates </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Morning' && lesson.product.product_type == 'private_lesson' && lesson.length == '3.00'  && lesson.activity == 'Snowboard'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <!-- Morning 1hr slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Morning 1hr Ski Privates </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Morning' && lesson.length == '1.00' && lesson.activity == 'Ski' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>
      <td colspan="12" class="daily-roster-section-break">Morning 1hr SB Privates </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Morning' && lesson.length == '1.00' && lesson.activity == 'Snowboard' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <!-- Afternoon Private Slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Afternoon Half-Day Ski Privates </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Afternoon' && lesson.product.product_type == 'private_lesson' && lesson.length == '3.00'  && lesson.activity == 'Ski'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>
      <td colspan="12" class="daily-roster-section-break">Afternoon Half-Day SB Privates </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Afternoon' && lesson.product.product_type == 'private_lesson' && lesson.length == '3.00'  && lesson.activity == 'Snowboard'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <!-- Afternoon Group Slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Afternoon Ski Groups </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Afternoon' && lesson.product.product_type == 'group_lesson' && lesson.activity == 'Ski'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>
      <td colspan="12" class="daily-roster-section-break">Afternoon SB Groups </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Afternoon' && lesson.product.product_type == 'group_lesson' && lesson.activity == 'Snowboard'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <!-- All Day slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Full Day Privates (10am start) </td>
    </tr>
    <% @todays_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'All day' && lesson.product.product_type == 'private_lesson' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

  </tbody>
</table>
</div>
<hr>

<!-- SECTION 1 - TOMORROW'S LESSONS -->
<div id="tomorrow-lessons" class="">
<h1>Tomorrow's Lessons</h1>

<table class="instructors-table">

  <%= render partial: 'daily_roster_table_headers' %>

  <tbody>

    <!-- Early bird slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Early Bird Private Ski </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Early-bird' && lesson.product.product_type == 'private_lesson' && lesson.activity == 'Ski' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>
    <tr>
      <td colspan="12" class="daily-roster-section-break">Early Bird Private SB </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Early-bird' && lesson.product.product_type == 'private_lesson' && lesson.activity == 'Snowboard' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>

    <!-- Morning HD slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Morning Half-Day Ski Privates </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Morning' && lesson.product.product_type == 'private_lesson' && lesson.length == '3.00'  && lesson.activity == 'Ski'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>
      <td colspan="12" class="daily-roster-section-break">Morning Half-Day SB Privates </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Morning' && lesson.product.product_type == 'private_lesson' && lesson.length == '3.00'  && lesson.activity == 'Snowboard'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <!-- Morning 1hr slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Morning 1hr Ski Privates </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Morning' && lesson.length == '1.00' && lesson.activity == 'Ski' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>
      <td colspan="12" class="daily-roster-section-break">Morning 1hr SB Privates </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Morning' && lesson.length == '1.00' && lesson.activity == 'Snowboard' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <!-- Afternoon Private Slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Afternoon Half-Day Ski Privates </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Afternoon' && lesson.product.product_type == 'private_lesson' && lesson.length == '3.00'  && lesson.activity == 'Ski'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>
      <td colspan="12" class="daily-roster-section-break">Afternoon Half-Day SB Privates </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Afternoon' && lesson.product.product_type == 'private_lesson' && lesson.length == '3.00'  && lesson.activity == 'Snowboard'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <!-- Afternoon Group Slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Afternoon Ski Groups </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Afternoon' && lesson.product.product_type == 'group_lesson' && lesson.activity == 'Ski'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <tr>
      <td colspan="12" class="daily-roster-section-break">Afternoon SB Groups </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'Afternoon' && lesson.product.product_type == 'group_lesson' && lesson.activity == 'Snowboard'%>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

    <!-- All Day slots -->

    <tr>
      <td colspan="12" class="daily-roster-section-break">Full Day Privates (10am start) </td>
    </tr>
    <% @tomorrows_lessons.each do |lesson| %>
        <% if lesson.product.slot == 'All day' && lesson.product.product_type == 'private_lesson' %>
          <%= render partial: 'daily_roster_table_contents', locals: { lesson: lesson} %>
        <% end %>
    <% end %>

  </tbody>
</table>
</div>
